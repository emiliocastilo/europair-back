databaseChangeLog:
  - changeSet:
      id: 20200914_flight_taxes_v1_20200916_table
      context: dev or pre or pro
      author: axel.sanchezsalom
      comment: "Add taxes table"
      changes:

        # Taxes
        - createTable:
            tableName: taxes
            remarks: Taxes table
            columns:
              - column:
                  name: id
                  type: int
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: taxes_id_pk
              - column:
                  name: tax_code
                  type: varchar(20)
                  remarks: Tax unique code
                  constraints:
                    nullable: false
                    unique: true
                    uniqueConstraintName: taxes_code_uq
              - column:
                  name: tax_percentage
                  type: double
                  remarks: Tax percentage to apply
                  constraints:
                    nullable: false
        - addAutoIncrement:
            columnDataType: int
            columnName: id
            generationType: ALWAYS
            incrementBy: 1
            startWith: 1
            tableName: taxes

        # Master data inserts
        - insert:
            tableName: taxes
            columns:
              - column:
                  name: tax_code
                  value: "ES"
              - column:
                  name: tax_percentage
                  valueNumeric: 21
        - insert:
            tableName: taxes
            columns:
              - column:
                  name: tax_code
                  value: "ES_REDUCED"
              - column:
                  name: tax_percentage
                  valueNumeric: 10
        - insert:
            tableName: taxes
            columns:
              - column:
                  name: tax_code
                  value: "ES_IGIC"
              - column:
                  name: tax_percentage
                  valueNumeric: 7

