databaseChangeLog:
  - changeSet:
      id: 20201008_routes_aud_v1_table
      context: dev or pre or pro
      author: axel.sanchezsalom
      comment: "Add routes audit table to the database"
      changes:

        # Routes_aud
        - createTable:
            tableName: routes_aud
            columns:
              - column:
                  name: id
                  type: int
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: route_aud_pk
              - column:
                  name: rev
                  type: int
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: route_aud_pk
              - column:
                  name: revtype
                  type: tinyint
              - column:
                  name: label
                  type: varchar(255)
              - column:
                  name: frequency
                  type: varchar(50)
              - column:
                  name: start_date
                  type: date
              - column:
                  name: end_date
                  type: date
              - column:
                  name: file_id
                  type: int
              - column:
                  name: rotations
                  type: int
              - column:
                  name: parent_route_id
                  type: int
              - column:
                  name: has_contributions
                  type: boolean
              - column:
                  name: created_at
                  type: timestamp
              - column:
                  name: created_by
                  type: varchar(30)
              - column:
                  name: modified_at
                  type: timestamp
              - column:
                  name: modified_by
                  type: varchar(30)

  - changeSet:
      id: 20201016_routes_aud_master_v1_route_state
      context: dev or pre or pro
      author: axel.sanchezsalom
      comment: "Add column route_state to table"
      changes:
        - addColumn:
            tableName: routes_aud
            columns:
              - column:
                  name: route_state
                  type: varchar(30)

  - changeSet:
      id: 20201109_routes_aud_master_v2_removed_at
      context: dev or pre or pro
      author: ivan.fanjul
      comment: "Add column removed_at to table"
      changes:
        - addColumn:
            tableName: routes_aud
            columns:
              - column:
                  name: removed_at
                  type: timestamp
                  remarks: soft removal timestamp
