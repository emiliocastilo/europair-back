databaseChangeLog:
  - changeSet:
      id: 14102020_screens_master_v1_screens_table
      context: dev or pre or pro
      author: ivan.jesus.fanjul.cosent
      comment: "Change screens add route column"
      changes:
        - addColumn:
            tableName: screens
            columns:
              - column:
                  name: route
                  type: varchar(500)
                  remarks: Route of the screen in the Angular application
                  afterColumn: description
                  constraints:
                    nullable: true

  # THIS CHANGE IS HARDCODED 14/10/2020
  # TODO: change name value, add label column and put an i18n name to use in Angular app
  - changeSet:
      id: 14102020_screens_master_v4_screens_data
      context: dev or pre or pro
      author: ivan.jesus.fanjul.cosent
      comment: "Drop table content and renew"
      changes:
        - delete:
            tableName: screens
        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 1
              - column:
                  name: name
                  value: "Tareas"
              - column:
                  name: description
                  value: "Maestro de tareas"
              - column:
                  name: route
                  value: "/tasks"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 2
              - column:
                  name: name
                  value: "Roles"
              - column:
                  name: description
                  value: "Maestro de roles"
              - column:
                  name: route
                  value: "/roles"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 3
              - column:
                  name: name
                  value: "Usuarios"
              - column:
                  name: description
                  value: "Maestro de usuarios"
              - column:
                  name: route
                  value: "/users"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 4
              - column:
                  name: name
                  value: "Pa√≠ses"
              - column:
                  name: description
                  value: "Maestro de paises"
              - column:
                  name: route
                  value: "/countries"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 5
              - column:
                  name: name
                  value: "Regiones"
              - column:
                  name: description
                  value: "Maestro de regiones"
              - column:
                  name: route
                  value: "/regions"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 6
              - column:
                  name: name
                  value: "Ciudades"
              - column:
                  name: description
                  value: "Maestro de ciudades"
              - column:
                  name: route
                  value: "/cities"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 7
              - column:
                  name: name
                  value: "Aeropuertos"
              - column:
                  name: description
                  value: "Maestro de aeropuertos"
              - column:
                  name: route
                  value: "/airports"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 8
              - column:
                  name: name
                  value: "Aeronaves"
              - column:
                  name: description
                  value: "Maestro de aeronaves"
              - column:
                  name: route
                  value: "/fleet/aircraft"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 9
              - column:
                  name: name
                  value: "Categorias"
              - column:
                  name: description
                  value: "Maestro de categorias de flota"
              - column:
                  name: route
                  value: "/fleet/categories"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 10
              - column:
                  name: name
                  value: "Tipos"
              - column:
                  name: description
                  value: "Maestro de tipos de flota"
              - column:
                  name: route
                  value: "/fleet/types"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 11
              - column:
                  name: name
                  value: "Operadores"
              - column:
                  name: description
                  value: "Maestro de tipos de operadores"
              - column:
                  name: route
                  value: "/operators"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 12
              - column:
                  name: name
                  value: "Listado"
              - column:
                  name: description
                  value: "Listado de expedientes"
              - column:
                  name: route
                  value: "/files"
              - column:
                  name: created_at
                  value: "2020-07-24"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: screens
            columns:
              - column:
                  name: id
                  value: 13
              - column:
                  name: name
                  value: "Contactos"
              - column:
                  name: description
                  value: "Maestro Listado de contactos"
              - column:
                  name: route
                  value: "/contacts"
              - column:
                  name: created_at
                  value: "2020-10-15"
              - column:
                  name: created_by
                  value: "Sistema"

  - changeSet:
      id: 14102020_menu_v2_menu_options_table
      context: dev or pre or pro
      author: ivan.jesus.fanjul.cosent
      comment: "Change menu_options to relate with screens and migrate route column into screens table"
      changes:
        - dropColumn:
            tableName: menu_option
            columns:
              - column:
                  name: route
                  type: varchar(500)
        - addColumn:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  type: int
                  remarks: Screen id
                  constraints:
                    nullable: true
                    foreignKeyName: menu_option_screens_fk
                    references: screens(id)
                    validateForeignKey: true

  - changeSet:
      id: 14102020_menu_v11_menu_option_data
      context: dev or pre or pro
      author: ivan.jesus.fanjul.cosent
      comment: "Update all rows to relate with table screens"
      changes:
        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 1
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_TASKS')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 2
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_ROLES')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 3
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_USERS')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 4
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_COUNTRIES')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 5
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_REGIONS')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 6
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_CITIES')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 7
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_AIRPORTS')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 8
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_FLEET_AIRCRAFT')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 9
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_FLEET_CATEGORIES')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 10
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_FLEET_TYPES')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 11
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_OPERATORS')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 12
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('FILES_LIST')

        - update:
            tableName: menu_option
            columns:
              - column:
                  name: screen_id
                  value: 13
              - column:
                  name: modified_at
                  value: "2020-10-14"
              - column:
                  name: modified_by
                  value: "Sistema"
            where: name IN ('MASTERS_CONTACTS')


  - changeSet:
      id: 15102020_roles_master_v1_roles_data
      context: dev or pre or pro
      author: ivan.jesus.fanjul.cosent
      comment: "Add data into roles table"
      changes:
        - insert:
            tableName: roles
            columns:
              - column:
                  name: id
                  value: 1
              - column:
                  name: name
                  value: "ROL_ADMIN"
              - column:
                  name: description
                  value: "Rol Administrador del sistema"
              - column:
                  name: created_at
                  value: "2020-10-15"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: roles
            columns:
              - column:
                  name: id
                  value: 2
              - column:
                  name: name
                  value: "ROL_MAESTROS"
              - column:
                  name: description
                  value: "Rol Administrador de los maestros"
              - column:
                  name: created_at
                  value: "2020-10-15"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: roles
            columns:
              - column:
                  name: id
                  value: 3
              - column:
                  name: name
                  value: "ROL_EXPEDIENTES"
              - column:
                  name: description
                  value: "Rol Administrador de los expedientes "
              - column:
                  name: created_at
                  value: "2020-10-15"
              - column:
                  name: created_by
                  value: "Sistema"

  - changeSet:
      id: 15102020_task_master_v1_task_data
      context: dev or pre or pro
      author: ivan.jesus.fanjul.cosent
      comment: "Add data into task table"
      changes:
        - insert:
            tableName: tasks
            columns:
              - column:
                  name: id
                  value: 1
              - column:
                  name: name
                  value: "Master_Task"
              - column:
                  name: description
                  value: "Tarea agrupadora para maestros"
              - column:
                  name: created_at
                  value: "2020-10-15"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: tasks
            columns:
              - column:
                  name: id
                  value: 2
              - column:
                  name: name
                  value: "File_Task"
              - column:
                  name: description
                  value: "Tarea agrupadora para expedientes"
              - column:
                  name: created_at
                  value: "2020-10-15"
              - column:
                  name: created_by
                  value: "Sistema"

        - insert:
            tableName: tasks
            columns:
              - column:
                  name: id
                  value: 3
              - column:
                  name: name
                  value: "Configuration_Task"
              - column:
                  name: description
                  value: "Tarea agrupadora para configuraciones"
              - column:
                  name: created_at
                  value: "2020-10-15"
              - column:
                  name: created_by
                  value: "Sistema"

  - changeSet:
      id: 15102020_roles_task_master_v1_roles_task_data
      context: dev or pre or pro
      author: ivan.jesus.fanjul.cosent
      comment: "Add data into roles_task table"
      changes:
        - insert:
            tableName: roles_tasks
            columns:
              - column:
                  name: role_id
                  value: 1
              - column:
                  name: task_id
                  value: 1

        - insert:
            tableName: roles_tasks
            columns:
              - column:
                  name: role_id
                  value: 1
              - column:
                  name: task_id
                  value: 2

        - insert:
            tableName: roles_tasks
            columns:
              - column:
                  name: role_id
                  value: 1
              - column:
                  name: task_id
                  value: 3

        - insert:
            tableName: roles_tasks
            columns:
              - column:
                  name: role_id
                  value: 2
              - column:
                  name: task_id
                  value: 1

        - insert:
            tableName: roles_tasks
            columns:
              - column:
                  name: role_id
                  value: 3
              - column:
                  name: task_id
                  value: 2

  - changeSet:
      id: 15102020_task_screens_master_v1_task_screens_data
      context: dev or pre or pro
      author: ivan.jesus.fanjul.cosent
      comment: "Add data into tasks_screens table"
      changes:
        - # master task 1
        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 1
              - column:
                  name: screen_id
                  value: 4

        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 1
              - column:
                  name: screen_id
                  value: 5

        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 1
              - column:
                  name: screen_id
                  value: 6

        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 1
              - column:
                  name: screen_id
                  value: 7

        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 1
              - column:
                  name: screen_id
                  value: 8

        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 1
              - column:
                  name: screen_id
                  value: 9

        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 1
              - column:
                  name: screen_id
                  value: 10

        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 1
              - column:
                  name: screen_id
                  value: 11

        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 1
              - column:
                  name: screen_id
                  value: 13

        # file task 2
        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 2
              - column:
                  name: screen_id
                  value: 12

        # configuration task 3
        - insert:
              tableName: tasks_screens
              columns:
                - column:
                    name: task_id
                    value: 3
                - column:
                    name: screen_id
                    value: 1

        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 3
              - column:
                  name: screen_id
                  value: 2

        - insert:
            tableName: tasks_screens
            columns:
              - column:
                  name: task_id
                  value: 3
              - column:
                  name: screen_id
                  value: 3

  - changeSet:
      id: 15102020_users_tasks_master_v1_users_tasks_data
      context: dev or pre or pro
      author: ivan.jesus.fanjul.cosent
      comment: "Add data into users_tasks table"
      changes:
        # master task 3
        - insert:
            tableName: users_tasks
            columns:
              - column:
                  name: user_id
                  value: 1
              - column:
                  name: task_id
                  value: 1
        # file task 3
        - insert:
            tableName: users_tasks
            columns:
              - column:
                  name: user_id
                  value: 1
              - column:
                  name: task_id
                  value: 2

        # configuration task 3
        - insert:
            tableName: users_tasks
            columns:
              - column:
                  name: user_id
                  value: 1
              - column:
                  name: task_id
                  value: 3